<app-navbar
(categoryChanged)="onCategoryChange($event)"
  (keywordChanged)="onKeywordChange($event)"></app-navbar>

<!-- Hero Section (Slider) -->
<div id="productCarousel" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-inner">
    <div *ngFor="let slide of slides; let isFirst = first">
      <div class="carousel-item" [class.active]="isFirst">
        <a [href]="slide.link" target="_blank" rel="noopener noreferrer">
          <img
          [src]="slide.imageUrl"
          class="d-block w-100"
          alt="Sản phẩm"
        />
        </a>
      </div>
    </div>
  </div>
  <button
    class="carousel-control-prev"
    type="button"
    data-bs-target="#productCarousel"
    data-bs-slide="prev"
  >
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button
    class="carousel-control-next"
    type="button"
    data-bs-target="#productCarousel"
    data-bs-slide="next"
  >
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
</div>



<!-- Products Section -->
<section class="products py-5">
  <div class="container">
    <div class="row text-center mb-4">
      <div class="col">
        <h2>Sản phẩm nổi bật</h2>
      </div>
    </div>
    <div class="row">
      <!-- Product 1 -->
      <div class="col-md-4" *ngFor="let product of products">
        <div class="product-item card">
          <div class="image-container">
            <img
              [src]="product.thumbnail"
              class="card-img-top product-image"
              alt="Product Image"
            />
          </div>
          <div class="card-body">
            <h5 class="card-title">{{product.product_name}}</h5>
            <p class="card-text">{{product.price}} VNĐ</p>
            <a class="btn btn-primary" (click)="onProductClick(product.id)">Xem chi tiết</a>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="d-flex justify-content-center">
  <nav aria-label="Page navigation example">
    <ul class="pagination">
      <li class="page-item" *ngIf="currentPage>0">
        <a class="page-link" href="#" aria-label="Previous" (click)="onPageChange(0)">
          <span aria-hidden="true">&laquo;</span>
          <span class="sr-only">Previous</span>
        </a>
      </li>
      <ng-container *ngFor="let page of visiblePages">
        <li class="page-item" [ngClass]="{'active': page===currentPage+1}">
          <a class="page-link" (click)="onPageChange(page-1)">{{page}}</a></li>
      </ng-container>
      <li class="page-item" *ngIf="currentPage<totalPages-1">
        <a class="page-link" aria-label="Next" (click)="onPageChange(totalPages-1)">
          <span aria-hidden="true">&raquo;</span>
          <span class="sr-only">Next</span>
        </a>
      </li>
    </ul>
  </nav>
</div>
</section>
<app-footer></app-footer>
<!-- Footer -->
